<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>optional-cfg-2 | çŸ¥è¯†åº“</title><meta name="author" content="Public"><meta name="copyright" content="Public"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta name="description" content="å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰ ğŸ‘ ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·è¿™ä¸€èŠ‚çš„é…ç½®éƒ½æ˜¯å¯é€‰çš„ã€‚è¿™äº›é…ç½®æ ¹æ®ä¸ªäººå–œå¥½è¿›è¡Œé…ç½®ï¼Œå¾€å¾€å¯ä»¥è®©ç³»ç»Ÿå˜å¾—æ›´å¥½ç”¨   ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š::: details ç›®å½• [[toc]] :::  ğŸ§ æ›´æ¢å¯é€‰å†…æ ¸å¦‚æœ‰éœ€è¦å¯å‚é˜… archWiki ç›¸å…³å†…å®¹ ä»¥åŠ rEFind å®˜æ–¹æ–‡æ¡£ã€‚ é™¤äº† linux å†…æ ¸ï¼Œè¿˜æœ‰ä»¥ä¸‹å®˜æ–¹æ”¯æŒçš„å†…æ ¸å¯ä¾›é€‰æ‹©ï¼š  linux-zen ä¸€äº›å†…æ ¸é»‘å®¢åˆä½œçš„ç»“">
<meta property="og:type" content="article">
<meta property="og:title" content="optional-cfg-2">
<meta property="og:url" content="http://example.com/2023/02/01/8670ffd3b97b453b8fd696b75659430f/index.html">
<meta property="og:site_name" content="çŸ¥è¯†åº“">
<meta property="og:description" content="å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰ ğŸ‘ ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·è¿™ä¸€èŠ‚çš„é…ç½®éƒ½æ˜¯å¯é€‰çš„ã€‚è¿™äº›é…ç½®æ ¹æ®ä¸ªäººå–œå¥½è¿›è¡Œé…ç½®ï¼Œå¾€å¾€å¯ä»¥è®©ç³»ç»Ÿå˜å¾—æ›´å¥½ç”¨   ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š::: details ç›®å½• [[toc]] :::  ğŸ§ æ›´æ¢å¯é€‰å†…æ ¸å¦‚æœ‰éœ€è¦å¯å‚é˜… archWiki ç›¸å…³å†…å®¹ ä»¥åŠ rEFind å®˜æ–¹æ–‡æ¡£ã€‚ é™¤äº† linux å†…æ ¸ï¼Œè¿˜æœ‰ä»¥ä¸‹å®˜æ–¹æ”¯æŒçš„å†…æ ¸å¯ä¾›é€‰æ‹©ï¼š  linux-zen ä¸€äº›å†…æ ¸é»‘å®¢åˆä½œçš„ç»“">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://meowrain.cn/upload/2022/11/QQ%E5%9B%BE%E7%89%8720221127155827.jpg">
<meta property="article:published_time" content="2023-02-01T04:57:59.103Z">
<meta property="article:modified_time" content="2023-02-02T03:20:15.876Z">
<meta property="article:author" content="Public">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://meowrain.cn/upload/2022/11/QQ%E5%9B%BE%E7%89%8720221127155827.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/02/01/8670ffd3b97b453b8fd696b75659430f/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'optional-cfg-2',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-02-02 11:20:15'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script>if (location.pathname.endsWith('/')) {location += 'index.html';}</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://meowrain.cn/upload/2022/11/QQ%E5%9B%BE%E7%89%8720221127155827.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">495</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">47</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="çŸ¥è¯†åº“"><span class="site-name">çŸ¥è¯†åº“</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">optional-cfg-2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-02-01T04:57:59.103Z" title="å‘è¡¨äº 2023-02-01 12:57:59">2023-02-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-02-02T03:20:15.876Z" title="æ›´æ–°äº 2023-02-02 11:20:15">2023-02-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/Arch-Linux/">Arch-Linux</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/Arch-Linux/advanced/">advanced</a></span></div><div class="meta-secondline"></div></div></div><article class="post-content" id="article-container"><h1 id="å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰"><a href="#å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰" class="headerlink" title="å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰"></a>å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰</h1><blockquote>
<h3 id="ğŸ‘-ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·"><a href="#ğŸ‘-ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·" class="headerlink" title="ğŸ‘ ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·"></a>ğŸ‘ ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·</h3><p>è¿™ä¸€èŠ‚çš„é…ç½®éƒ½æ˜¯å¯é€‰çš„ã€‚è¿™äº›é…ç½®æ ¹æ®ä¸ªäººå–œå¥½è¿›è¡Œé…ç½®ï¼Œå¾€å¾€å¯ä»¥è®©ç³»ç»Ÿå˜å¾—æ›´å¥½ç”¨</p>
</blockquote>
<blockquote>
<h3 id="ğŸ”–-è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š"><a href="#ğŸ”–-è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š" class="headerlink" title="ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š"></a>ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š</h3><p>::: details ç›®å½•</p>
<p>[[toc]]</p>
<p>:::</p>
</blockquote>
<h2 id="ğŸ§-æ›´æ¢å¯é€‰å†…æ ¸"><a href="#ğŸ§-æ›´æ¢å¯é€‰å†…æ ¸" class="headerlink" title="ğŸ§ æ›´æ¢å¯é€‰å†…æ ¸"></a>ğŸ§ æ›´æ¢å¯é€‰å†…æ ¸</h2><p>å¦‚æœ‰éœ€è¦å¯å‚é˜… <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Kernel_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archWiki ç›¸å…³å†…å®¹</a> ä»¥åŠ <a target="_blank" rel="noopener" href="http://www.rodsbooks.com/refind/linux.html">rEFind å®˜æ–¹æ–‡æ¡£</a>ã€‚</p>
<p>é™¤äº† <a target="_blank" rel="noopener" href="https://archlinux.org/packages/core/x86_64/linux/">linux</a> å†…æ ¸ï¼Œè¿˜æœ‰ä»¥ä¸‹å®˜æ–¹æ”¯æŒçš„å†…æ ¸å¯ä¾›é€‰æ‹©ï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://archlinux.org/packages/extra/x86_64/linux-zen/">linux-zen</a><ul>
<li>ä¸€äº›å†…æ ¸é»‘å®¢åˆä½œçš„ç»“æœï¼Œæ˜¯é€‚åˆæ—¥å¸¸ä½¿ç”¨çš„ä¼˜ç§€å†…æ ¸</li>
<li>ä»¥ååé‡å’ŒåŠŸè€—ä¸ºä»£ä»·æ¥æ¢å–æ€§èƒ½</li>
<li>ç›¸å¯¹ linux å†…æ ¸åŠ å…¥äº† Fsync åŠŸèƒ½ï¼Œåœ¨ä¸€äº›é‡‡ç”¨ .Net çš„ wine æ¸¸æˆä¸­ä¼šæœ‰ <a target="_blank" rel="noopener" href="https://github.com/ValveSoftware/Proton/issues/3706#issuecomment-636632984">æ˜æ˜¾çš„æ€§èƒ½æå‡</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://archlinux.org/packages/core/x86_64/linux-lts/">linux-lts</a><ul>
<li>åŒ…å«äº†æœ€æ–°çš„é•¿æœŸæ”¯æŒçš„ Linux å†…æ ¸å’Œå†…æ ¸æ¨¡å—</li>
<li>å¯ä»¥æ”¾å¿ƒåœ°åœ¨æ›´é•¿çš„æ—¶é—´å†…äº«å—ç›¸åŒçš„å†…æ ¸ç‰ˆæœ¬</li>
<li>è‹¥ç¡¬ä»¶ä¸æ˜¯æœ€æ–°ç¡¬ä»¶ï¼Œåˆ™å¯ä»¥é€šè¿‡å®‰è£…ç¨æ—©çš„ LTS å†…æ ¸æé«˜ç¨³å®šæ€§</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://archlinux.org/packages/extra/x86_64/linux-hardened/">linux-hardened</a><ul>
<li>æ›´åŠ æ³¨é‡å®‰å…¨çš„å†…æ ¸ï¼Œé‡‡ç”¨ä¸€ç³»åˆ— <a target="_blank" rel="noopener" href="https://github.com/GrapheneOS/linux-hardened">åŠ å›ºè¡¥ä¸</a> ä»¥å‡å°‘å†…æ ¸å’Œç”¨æˆ·ç©ºé—´äº§ç”Ÿæ¼æ´çš„é£é™©</li>
<li>å¯ç”¨äº†ä¸€äº›åŠ å›ºé€‰é¡¹ï¼Œæ¯”å¦‚ç”¨æˆ·å‘½åç©ºé—´ï¼ˆåŒæ—¶é€šè¿‡è¡¥ä¸ç¦ç”¨æœªæˆæƒç”¨æˆ·çš„è®¿é—®ï¼‰ã€å®¡è®¡ä»¥åŠ SELinux</li>
<li>éœ€è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨æ­¤å†…æ ¸æ—¶éƒ¨åˆ†è½¯ä»¶åŒ…å°†ä¸èµ·ä½œç”¨</li>
</ul>
</li>
</ul>
<p>:::: code-group<br>::: code-group-item zen</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S linux-zen linux-zen-headers</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item lts</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S linux-lts linux-lts-headers</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item hardened</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S linux-hardened linux-hardened-headers</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<p><img src="/resources/ff575372da1a4e41af553f6d26cdc37f.png" alt="zen"></p>
<p><img src="/resources/e9b3b810b89b4d788d2d43291ff0117c.png" alt="lts"></p>
<p><img src="/resources/25434f9560974e54b21640c361728d2c.png" alt="hardened"></p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>æ›´æ¢å†…æ ¸åè¿˜éœ€è¦ç•™æ„éƒ¨åˆ†åº”ç”¨éœ€è¦æ›´æ¢ä¸ºç›¸åº”çš„ dkms ç‰ˆæœ¬ã€‚</p>
<p>æœ¬æŒ‡å—æ¶‰åŠçš„åº”ç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="/rookie/graphic-driver.md#nvidia-%E7%8B%AC%E7%AB%8B%E6%98%BE%E5%8D%A1"><code>nvidia-dkms</code></a></li>
<li><a href="/rookie/graphic-driver.md#%E7%94%B5%E6%BA%90%E7%AE%A1%E7%90%86"><code>bbswitch-dkms</code></a></li>
</ul>
<p>:::</p>
<blockquote>
<h4 id="ğŸ“‘-ç›¸å…³èµ„æ–™ï¼šDKMS"><a href="#ğŸ“‘-ç›¸å…³èµ„æ–™ï¼šDKMS" class="headerlink" title="ğŸ“‘ ç›¸å…³èµ„æ–™ï¼šDKMS"></a>ğŸ“‘ ç›¸å…³èµ„æ–™ï¼šDKMS</h4><p>DKMSï¼Œå³ <strong>D</strong>ynamic <strong>K</strong>ernel <strong>M</strong>odule <strong>S</strong>ystemã€‚å¯ä»¥ä½¿å†…æ ¸å˜æ›´ï¼ˆå¦‚å‡çº§ï¼‰åè‡ªåŠ¨ç¼–è¯‘æ¨¡å—ï¼Œé€‚é…æ–°å†…æ ¸ã€‚</p>
</blockquote>
<ol start="2">
<li>ä¸ºäº†è®© GRUB è®°ä½æœ€ååœ¨ GRUB å¼•å¯¼èœå•é‡Œé€‰æ‹©çš„å†…æ ¸ï¼Œä»¥ä¾¿åœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨ä½¿ç”¨å¯¹åº”çš„å†…æ ¸ï¼Œéœ€è¦ç¼–è¾‘ <code>/etc/default/grub</code> æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/default/grub</span><br></pre></td></tr></table></figure>

<p>åœ¨é€‚å½“ä½ç½®æ·»åŠ æˆ–ä¿®æ”¹ä¸ºå¦‚ä¸‹ä¸‰è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GRUB_DEFAULT=saved <span class="comment"># é»˜è®¤ä½¿ç”¨ä¿å­˜çš„å†…æ ¸æ¡ç›®</span></span><br><span class="line">GRUB_SAVEDEFAULT=<span class="literal">true</span> <span class="comment"># ä¿å­˜æœ€åä¸€ä¸ªä½¿ç”¨çš„å†…æ ¸æ¡ç›®</span></span><br><span class="line">GRUB_DISABLE_SUBMENU=y <span class="comment"># å¯é€‰ï¼Œç¦ç”¨ GRUB å­èœå•ï¼Œä½¿é€‰æ‹©å†…æ ¸çš„æ“ä½œæ›´ç®€å•</span></span><br></pre></td></tr></table></figure>

<p><img src="/resources/a8c05d44c016432396cc4e3065a22c29.png" alt="kernel-grub\_step-0"></p>
<p><img src="/resources/84f9d8cf0a2f4f789f663bfac00b8841.png" alt="kernel-grub\_step-1"></p>
<ol start="3">
<li>å®‰è£…å®Œæ¯•åé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ›´æ–°ä¸€ä¸‹å¼•å¯¼é…ç½®å³å¯ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<p><img src="/resources/a7a545d7b8e842e09201079971e26c09.png" alt="kernel-grub\_step-2"></p>
<ol start="4">
<li>rEFind ä¸éœ€è¦åšé¢å¤–æ­¥éª¤ï¼Œä½†ä¼šä½¿ç”¨å®‰è£…çš„æœ€åä¸€ä¸ªå†…æ ¸ä½œä¸ºé»˜è®¤å†…æ ¸ã€‚è‹¥æƒ³æ”¹å˜é»˜è®¤å¯åŠ¨å†…æ ¸ï¼Œéœ€è¦ä¿®æ”¹ rEFind é…ç½®æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /boot/efi/EFI/refind/refind.conf</span><br></pre></td></tr></table></figure>

<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥æ‚¨ä¸æ˜¯æŒ‰ç…§æœ¬æŒ‡å—ç« èŠ‚ <a href="/rookie/basic-install.md">archlinux åŸºç¡€å®‰è£…</a> å®‰è£…çš„ archlinuxï¼Œè¯·ç¡®è®¤æ‚¨çš„ EFI åˆ†åŒºï¼ˆESPï¼‰ä½ç½®ã€‚</p>
<p>:::</p>
<p>å°† <code>fold_linux_kernels false</code> å‰é¢çš„æ³¨é‡Šï¼ˆ<code>#</code>ï¼‰å»æ‰ï¼š</p>
<p><img src="/resources/9f4df2ee006d4996b0a2ccdf550dbe24.png" alt="kernel-refind-0"></p>
<p>è¯šç„¶ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªä¼˜é›…ï¼ˆelegantï¼‰çš„æ–¹æ¡ˆã€‚å®ƒä¼šå°†æ‰€æœ‰çš„å†…æ ¸ç›´æ¥åœ¨å¼•å¯¼èœå•é¦–é¡µæ˜¾ç¤ºå‡ºæ¥ï¼Œè€Œä¸æ˜¯åœ¨å­èœå•é€‰æ‹©ã€‚ä½† <a target="_blank" rel="noopener" href="https://bbs.archlinux.org/viewtopic.php?id=258751">å”¯æœ‰è¿™æ ·</a> rEFind æ‰èƒ½è®°ä½æœ€åé€‰æ‹©çš„å†…æ ¸ï¼Œè€Œä¸æ˜¯å®‰è£…çš„æœ€åä¸€ä¸ªå†…æ ¸ã€‚</p>
<ol start="5">
<li>é‡å¯ï¼ŒæŸ¥çœ‹å¼•å¯¼èœå•æ•ˆæœï¼š</li>
</ol>
<p><img src="/resources/bd8263d7cfac415e806f998f0503b447.png" alt="kernel-grub\_step-3"></p>
<p><img src="/resources/d8ce567f3ba948649576a770d0e45466.png" alt="kernel-refind-1"></p>
<ol start="6">
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å†…æ ¸ï¼š</li>
</ol>
<p>:::: code-group<br>::: code-group-item uname</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -r</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item neofetch</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">neofetch</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<p><img src="/resources/46801785d3754a77b35a8ca9e75870ce.png" alt="kernel-version-1"></p>
<p><img src="/resources/1b11985ca6f44e449756dda252448ba3.png" alt="kernel-version-2"></p>
<h2 id="ğŸ’¤-ä¼‘çœ ï¼ˆhibernateï¼‰è®¾ç½®"><a href="#ğŸ’¤-ä¼‘çœ ï¼ˆhibernateï¼‰è®¾ç½®" class="headerlink" title="ğŸ’¤ ä¼‘çœ ï¼ˆhibernateï¼‰è®¾ç½®"></a>ğŸ’¤ ä¼‘çœ ï¼ˆhibernateï¼‰è®¾ç½®</h2><p>å¦‚æœ‰éœ€è¦å¯ä»¥å‚é˜… <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Power_management_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)/Suspend_and_hibernate_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archWiki ç›¸å…³å†…å®¹</a>ã€‚</p>
<p>KDE è‡ªèº«æä¾›å¼€ç®±å³ç”¨çš„ç¡çœ åŠŸèƒ½ï¼ˆsleepï¼‰ï¼Œå³å°†ç³»ç»ŸæŒ‚èµ·åˆ°å†…å­˜ï¼Œæ¶ˆè€—å°‘é‡çš„ç”µé‡ã€‚ä¼‘çœ ï¼ˆhibernateï¼‰åˆ™ä¼šå°†ç³»ç»ŸæŒ‚èµ·åˆ°äº¤æ¢åˆ†åŒºæˆ–äº¤æ¢æ–‡ä»¶ï¼Œå‡ ä¹ä¸æ¶ˆè€—ç”µé‡ã€‚</p>
<p>æŒ‚èµ·åˆ°ç¡¬ç›˜çš„æ˜ åƒå¤§å°ä¸€èˆ¬æœ€å¤§ä¸ºç‰©ç†å†…å­˜çš„ <code>2/5</code>ï¼Œå…¶å€¼åœ¨ <code>/sys/power/image_size</code> ä¸­ç¡®å®šã€‚æ•…è‹¥æƒ³ä½¿ç”¨ä¼‘çœ åŠŸèƒ½ï¼ŒSwap å¤§å°ä¸€èˆ¬è®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„ 60% å³å¯ã€‚</p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥ Swap åˆ†åŒºå¤§å°ä¸å¤Ÿï¼Œåˆ™å¯å°è¯•åˆ›å»ºå¹¶ä¼‘çœ åˆ° Swap æ–‡ä»¶ä¸­ã€‚</p>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„ï¼ä¼‘çœ é•œåƒä¸èƒ½è·¨å¤šä¸ªäº¤æ¢åˆ†åŒºå’Œ &#x2F; æˆ–äº¤æ¢æ–‡ä»¶ã€‚å®ƒå¿…é¡»å®Œå…¨é€‚é…<strong>ä¸€ä¸ªäº¤æ¢åˆ†åŒºæˆ–ä¸€ä¸ªäº¤æ¢æ–‡ä»¶</strong>ã€‚</p>
<p>:::</p>
<h3 id="ä¼‘çœ åˆ°-Swap-åˆ†åŒº"><a href="#ä¼‘çœ åˆ°-Swap-åˆ†åŒº" class="headerlink" title="ä¼‘çœ åˆ° Swap åˆ†åŒº"></a>ä¼‘çœ åˆ° Swap åˆ†åŒº</h3><ol>
<li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤ç¡®è®¤ Swap åˆ†åŒºçš„ <code>UUID</code>ï¼š</li>
</ol>
<p>:::: code-group<br>::: code-group-item lsblk</p>
<figure class="highlight bash"><figcaption><span>&#123;8&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk -o name,mountpoint,size,uuid</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item blkid</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo blkid</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<p>è¾“å‡ºç»“æœåº”ç±»ä¼¼ï¼š</p>
<p>:::: code-group<br>::: code-group-item lsblk</p>
<figure class="highlight bash"><figcaption><span>&#123;6&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">NAME   MOUNTPOINT              SIZE UUID</span><br><span class="line">sda                             64G</span><br><span class="line">â”œâ”€sda1 /boot/efi               244M E519-88D8</span><br><span class="line">â”œâ”€sda2                           1G</span><br><span class="line">â”œâ”€sda3                           1G</span><br><span class="line">â”œâ”€sda4 [SWAP]                    4G 13ec7b86-eb9c-45a9-ae50-9606279b506a</span><br><span class="line">â””â”€sda5 /run/timeshift/backup  57.8G 860b9d91-590c-44d0-9d38-e4bf137b5d90</span><br><span class="line">sr0                          755.3M 2021-05-01-05-18-20-00</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item blkid</p>
<figure class="highlight bash"><figcaption><span>&#123;2&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/dev/sr0: BLOCK_SIZE=<span class="string">&quot;2048&quot;</span> UUID=<span class="string">&quot;2021-05-01-05-18-20-00&quot;</span> LABEL=<span class="string">&quot;ARCH_202105&quot;</span> TYPE=<span class="string">&quot;iso9660&quot;</span> PTTYPE=<span class="string">&quot;PMBR&quot;</span></span><br><span class="line">/dev/sda4: UUID=<span class="string">&quot;13ec7b86-eb9c-45a9-ae50-9606279b506a&quot;</span> TYPE=<span class="string">&quot;swap&quot;</span> PARTUUID=<span class="string">&quot;7a9e75d7-eca2-c849-9372-85c6889a7861&quot;</span></span><br><span class="line">/dev/sda2: PARTUUID=<span class="string">&quot;bfc5f742-be1e-cb41-911f-ec5466d670de&quot;</span></span><br><span class="line">/dev/sda5: LABEL=<span class="string">&quot;myArch&quot;</span> UUID=<span class="string">&quot;860b9d91-590c-44d0-9d38-e4bf137b5d90&quot;</span> UUID_SUB=<span class="string">&quot;5551b2c6-b767-4459-b7fc-de91500baec0&quot;</span> BLOCK_SIZE=<span class="string">&quot;4096&quot;</span> TYPE=<span class="string">&quot;btrfs&quot;</span> PARTUUID=<span class="string">&quot;815c3576-3bb8-dc4e-86d4-f41c45cffd42&quot;</span></span><br><span class="line">/dev/sda3: PARTUUID=<span class="string">&quot;23bddb1f-4ef9-844c-a92a-805a4063e3c1&quot;</span></span><br><span class="line">/dev/sda1: SEC_TYPE=<span class="string">&quot;msdos&quot;</span> UUID=<span class="string">&quot;E519-88D8&quot;</span> BLOCK_SIZE=<span class="string">&quot;512&quot;</span> TYPE=<span class="string">&quot;vfat&quot;</span> PARTUUID=<span class="string">&quot;1976beb2-c881-8046-9066-21d5dac457ce&quot;</span></span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<blockquote>
<h4 id="ğŸ“‘-ç›¸å…³èµ„æ–™ï¼šUUID"><a href="#ğŸ“‘-ç›¸å…³èµ„æ–™ï¼šUUID" class="headerlink" title="ğŸ“‘ ç›¸å…³èµ„æ–™ï¼šUUID"></a>ğŸ“‘ ç›¸å…³èµ„æ–™ï¼šUUID</h4><p>UUID å³ <strong>U</strong>niversally <strong>U</strong>nique <strong>Id</strong>entifierï¼ˆé€šç”¨å”¯ä¸€è¯†åˆ«ç ï¼‰ï¼Œå®ƒå¯ä»¥å¸®åŠ© Linux ç³»ç»Ÿè¯†åˆ«ä¸€ä¸ªç£ç›˜åˆ†åŒºè€Œä¸æ˜¯å—è®¾å¤‡æ–‡ä»¶ã€‚</p>
</blockquote>
<ol start="2">
<li>ä½¿ç”¨ <code>vim</code> ç¼–è¾‘ <code>/etc/default/grub</code> æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/default/grub</span><br></pre></td></tr></table></figure>

<p>å°†ç›¸å…³å‚æ•°åŠ å…¥å†…æ ¸å¯åŠ¨å‚æ•°ä¸­ â€”â€” æ‰¾åˆ° <code>GRUB_CMDLINE_LINUX_DEFAULT</code> ä¸€è¡Œï¼Œåœ¨å…¶å€¼åæ·»åŠ ç±»ä¼¼å¦‚ä¸‹æ•°æ®ï¼ˆæ ¹æ®ä½ è‡ªèº«çš„ UUID ç¡®å®šï¼Œå‚æ•°ä¹‹é—´ä»¥ç©ºæ ¼åˆ†éš”ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resume=UUID=13ec7b86-eb9c-45a9-ae50-9606279b506a</span><br></pre></td></tr></table></figure>

<p><img src="/resources/4fa2fb6be31144b0891795e714cc1649.png" alt="hibernate\_step-1"></p>
<blockquote>
<h4 id="ğŸ§-ç¢ç¢å¿µ"><a href="#ğŸ§-ç¢ç¢å¿µ" class="headerlink" title="ğŸ§ ç¢ç¢å¿µ"></a>ğŸ§ ç¢ç¢å¿µ</h4><p>è¿™ä¸ªå†…æ ¸å¯åŠ¨å‚æ•°åœ¨æ­¥éª¤ <a href="/rookie/basic-install.md#_17-%E5%AE%89%E8%A3%85%E5%BC%95%E5%AF%BC%E7%A8%8B%E5%BA%8F">17. å®‰è£…å¼•å¯¼ç¨‹åº</a> ä¸­ä¹Ÿä¿®æ”¹è¿‡ï¼Œç°åœ¨åº”è¯¥ç¨å¾®ç†Ÿæ‚‰ä¸€ç‚¹äº†å§ï¼Ÿ</p>
</blockquote>
<ol start="3">
<li>æ¥ä¸‹æ¥å‚è€ƒæ­¥éª¤ <a href=":/8670ffd3b97b453b8fd696b75659430f#%E5%85%B1%E5%90%8C%E5%90%8E%E7%BB%AD%E6%AD%A5%E9%AA%A4">å…±åŒåç»­æ­¥éª¤</a> å®Œæˆé…ç½®ã€‚</li>
</ol>
<h3 id="ä¼‘çœ åˆ°-Swap-æ–‡ä»¶ï¼ˆBtrfsï¼‰"><a href="#ä¼‘çœ åˆ°-Swap-æ–‡ä»¶ï¼ˆBtrfsï¼‰" class="headerlink" title="ä¼‘çœ åˆ° Swap æ–‡ä»¶ï¼ˆBtrfsï¼‰"></a>ä¼‘çœ åˆ° Swap æ–‡ä»¶ï¼ˆBtrfsï¼‰</h3><h3 id="ä¼‘çœ åˆ°-Swap-æ–‡ä»¶ï¼ˆext4ï¼‰"><a href="#ä¼‘çœ åˆ°-Swap-æ–‡ä»¶ï¼ˆext4ï¼‰" class="headerlink" title="ä¼‘çœ åˆ° Swap æ–‡ä»¶ï¼ˆext4ï¼‰"></a>ä¼‘çœ åˆ° Swap æ–‡ä»¶ï¼ˆext4ï¼‰</h3><ol>
<li>é¦–å…ˆç¡®è®¤ Swap æ–‡ä»¶æ‰€åœ¨åˆ†åŒºçš„ <code>UUID</code>ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo findmnt -no UUID -T /swapfile</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç¡®è®¤ Swap æ–‡ä»¶çš„åç§»å€¼ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo filefrag -v /swapfile</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€è¡Œæ•°æ®ä¸­çš„ <code>physical_offset</code> ä¸€åˆ—çš„å€¼å³ä¸ºæ‰€éœ€è¦çš„æ•°æ®ã€‚</p>
<ol start="3">
<li>éšåå°†è¿™ä¸¤ä¸ªå‚æ•°åŠ å…¥å†…æ ¸å¯åŠ¨å‚æ•°ä¸­ã€‚é€šè¿‡ <code>vim</code> ç¼–è¾‘ <code>/etc/default/grub</code> æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/default/grub</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ° <code>GRUB_CMDLINE_LINUX_DEFAULT</code> ä¸€è¡Œï¼Œåœ¨å…¶å€¼åæ·»åŠ ç±»ä¼¼å¦‚ä¸‹ä¸¤é¡¹æ•°æ®ï¼Œå†…å®¹æ ¹æ®åˆšæ‰æŸ¥è¯¢çš„ <code>UUID</code> ä»¥åŠåç§»å€¼ç¡®å®šã€‚å‚æ•°ä»¥ç©ºæ ¼åˆ†éš”ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resume=UUID=9a940a0a-fa72-4973-9ccc-3eb93ad73b37 resume_offset=6418432</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æ¥ä¸‹æ¥å‚è€ƒæ­¥éª¤ <a href=":/8670ffd3b97b453b8fd696b75659430f#%E5%85%B1%E5%90%8C%E5%90%8E%E7%BB%AD%E6%AD%A5%E9%AA%A4">å…±åŒåç»­æ­¥éª¤</a> å®Œæˆé…ç½®ã€‚</li>
</ol>
<h3 id="å…±åŒåç»­æ­¥éª¤"><a href="#å…±åŒåç»­æ­¥éª¤" class="headerlink" title="å…±åŒåç»­æ­¥éª¤"></a>å…±åŒåç»­æ­¥éª¤</h3><ol>
<li>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ›´æ–° GRUB é…ç½®ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<p><img src="/resources/cfc7ac76649e4368848bedc28e3df621.png" alt="hibernate-same\_step-1"></p>
<ol start="2">
<li>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜éœ€é…ç½® <code>initranfs</code> çš„ <code>resume</code> é’©å­ã€‚ä½¿ç”¨ <code>vim</code> ç¼–è¾‘ <code>/etc/mkinitcpio.conf</code>ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/mkinitcpio.conf</span><br></pre></td></tr></table></figure>

<p>åœ¨ HOOKS è¡Œæ·»åŠ  <code>resume</code> å€¼ã€‚æ³¨æ„ï¼Œ<code>resume</code> éœ€è¦åŠ å…¥åœ¨ <code>udev</code> åã€‚è‹¥ä½¿ç”¨äº† LVM åˆ†åŒºï¼Œ<code>resume</code> éœ€è¦åŠ å…¥åœ¨ <code>lvm2</code> åï¼š</p>
<p><img src="/resources/51f097f62c3f4e3da858ffee3c596f71.png" alt="hibernate-same\_step-2"></p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>ä½¿ç”¨ Intel CPU å¹¶ä¸”ä¸ºè§¦æ‘¸æ¿åŠ è½½ <code>intel_lpss_pci</code> æ¨¡å—çš„ç¬”è®°æœ¬ç”µè„‘ï¼Œå¯èƒ½ä¼šåœ¨å”¤é†’æ—¶å‘ç”Ÿå†…æ ¸å´©æºƒï¼ˆCaps Lock ç¯é—ªçƒï¼‰ï¼Œé»‘å±å¹¶æ— æ³•æˆåŠŸå”¤é†’ã€‚</p>
<p>æ­¤æ—¶éœ€è¦ç¼–è¾‘ <code>/etc/mkinitcpio.conf</code>ï¼Œåœ¨ MODULES è¡Œæ·»åŠ  <code>intel_lpss_pci</code> å€¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MODULES=(intel_lpss_pci)</span><br></pre></td></tr></table></figure>

<p>:::</p>
<ol start="3">
<li>æœ€åé€šè¿‡ä»¥ä¸‹å‘½ä»¤é‡æ–°ç”Ÿæˆ <code>initramfs</code> é•œåƒï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkinitcpio -P</span><br></pre></td></tr></table></figure>

<p><img src="/resources/e64b2536ad5942099508070bff2502f1.png" alt="hibernate-same\_step-3"></p>
<ol start="4">
<li><p>é‡å¯ç”µè„‘</p>
</li>
<li><p>é‡å¯ä¹‹åå¯ä»¥å¼€å‡ ä¸ªåº”ç”¨ï¼Œå°è¯•ä¼‘çœ ï¼š</p>
</li>
</ol>
<p><img src="/resources/8929992f76b348e4ac9187f473790f08.png" alt="try-1"></p>
<p><img src="/resources/30bd2fe3014e48978e9f666d02428262.png" alt="try-2"></p>
<p><img src="/resources/6b8be10a2f2e45fc82709533ebcf8c1b.png" alt="try-3"></p>
<p>è™šæ‹Ÿæœºä¹Ÿå¯ä»¥é€šè¿‡ä¼‘çœ æˆåŠŸå”¤é†’ã€‚</p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>è™šæ‹Ÿæœºå¯èƒ½åœ¨ä¼‘çœ å”¤é†’åçš„å…³æœºæ—¶å‘ç”Ÿå†…æ ¸å´©æºƒï¼ˆCaps Lock ç¯ä¹Ÿä¼šé—ªçƒï¼‰ã€‚</p>
<p>:::</p>
<h2 id="ğŸ”-rEFind"><a href="#ğŸ”-rEFind" class="headerlink" title="ğŸ” rEFind"></a>ğŸ” rEFind</h2><p>å¦‚æœ‰éœ€è¦å¯ä»¥å‚è€ƒ <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/REFInd_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archWiki ç›¸å…³å†…å®¹</a>ã€‚</p>
<p>ç›¸å¯¹äº GRUBï¼ŒrEFind çš„å¯åŠ¨é¡¹æ›´åŠ çµæ´»ï¼Œç›¸å¯¹æ¥è¯´ä¹Ÿæ›´åŠ ç¾è§‚ã€‚</p>
<ol>
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… <code>refind</code> åŒ…ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S refind</span><br></pre></td></tr></table></figure>

<p><img src="/resources/991f812e6eba41a38b48d6965e9b6636.png" alt="refind-1"></p>
<ol start="2">
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å®‰è£… rEFInd å¯åŠ¨ç®¡ç†å™¨åˆ° EFI åˆ†åŒºï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo refind-install</span><br></pre></td></tr></table></figure>

<p><img src="/resources/d43f6160ba4945eaa7b29f67c5a4c079.png" alt="refind-2"></p>
<ol start="3">
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¤æŸ¥å®‰è£…æƒ…å†µï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -ahl /boot/efi/EFI/</span><br></pre></td></tr></table></figure>

<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥æ‚¨ä¸æ˜¯æŒ‰ç…§æœ¬æŒ‡å—ç« èŠ‚ <a href="./basic-install.md">archlinux åŸºç¡€å®‰è£…</a> å®‰è£…çš„ archlinuxï¼Œè¯·ç¡®è®¤æ‚¨çš„ EFI åˆ†åŒºï¼ˆESPï¼‰ä½ç½®ã€‚</p>
<p>:::</p>
<p><img src="/resources/87ca84bc782642dea55e16b70d5b689e.png" alt="refind-3"></p>
<p>è¾“å‡ºç»“æœåº”è¯¥å¯ä»¥çœ‹åˆ° <code>refind</code> æ–‡ä»¶å¤¹ã€‚</p>
<ol start="4">
<li>ä½¿ç”¨ <code>vim</code> ç¼–è¾‘ <code>/boot/efi/EFI/refind/refind.conf</code> æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /boot/efi/EFI/refind/refind.conf</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹ç­‰å¾…æ—¶é—´ä¸ºåˆé€‚æ•°å€¼ï¼ˆè‡ªå®šä¹‰ï¼‰ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">timeout</span> 5</span><br></pre></td></tr></table></figure>

<p><img src="/resources/fcc2ea53d89c46e08e5d6fc71e61c746.png" alt="refind-4"></p>
<p>ä¸ºäº†ä½¿ rEFInd æ”¯æŒ archlinux å†…æ ¸å‘½åæ–¹æ¡ˆå¹¶ä½¿å…¶ä¸å„è‡ªçš„ initramfs é•œåƒç›¸åŒ¹é…ï¼Œå–æ¶ˆæ³¨é‡Šå¹¶ç¼–è¾‘ <code>extra_kernel_version_strings</code> æ‰€åœ¨è¡Œï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extra_kernel_version_strings linux-hardened,linux-zen,linux-lts,linux</span><br></pre></td></tr></table></figure>

<p><img src="/resources/d7289ac735fa481d92701cb9ffc58caa.png" alt="refind-5"></p>
<p>ä¸ºäº†å…è®¸åœ¨ Btrfs å­å·ä¸Šè¿›è¡Œå†…æ ¸è‡ªåŠ¨æ£€æµ‹ï¼Œå–æ¶ˆæ³¨é‡Šå¹¶ç¼–è¾‘ <code>also_scan_dirs</code>ï¼Œåœ¨æœ€ååŠ ä¸Š <code>@/boot</code>ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">also_scan_dirs boot,ESP2:EFI/linux/kernels,@/boot</span><br></pre></td></tr></table></figure>

<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥æ‚¨ä¸æ˜¯æŒ‰ç…§æœ¬æŒ‡å—ç« èŠ‚ <a href="./basic-install.md">archlinux åŸºç¡€å®‰è£…</a> å®‰è£…çš„ archlinuxï¼š</p>
<ul>
<li>è‹¥ä½¿ç”¨äº† ext4 æ–‡ä»¶ç³»ç»Ÿï¼Œåˆ™ä¸ç”¨ä¿®æ”¹è¿™ä¸€è¡Œã€‚</li>
<li>è‹¥ä½¿ç”¨äº† Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œè¯·ç¡®è®¤æ ¹ç›®å½•æˆ– <code>/boot</code> ç›®å½•å¯¹åº”å­å·ä½ç½®ï¼ˆç®€è€Œè¨€ä¹‹è¿™ä¸ªä½ç½®æ˜¯ä» Btrfs æ–‡ä»¶ç³»ç»Ÿæœ€ä¸Šå±‚å¼€å§‹å¯»æ‰¾çš„ï¼‰</li>
</ul>
<p>:::</p>
<p><img src="/resources/a76d61d510fc4cecbe5701f7d892300d.png" alt="refind-6"></p>
<ol start="5">
<li><p>ä¿å­˜å¹¶é€€å‡º <code>vim</code></p>
</li>
<li><p>è‹¥å®‰è£… archlinux æ—¶æŒ‰ç…§æ­¥éª¤ <a href="/rookie/basic-install.md#_7-%E5%88%86%E5%8C%BA%E5%92%8C%E6%A0%BC%E5%BC%8F%E5%8C%96-%E4%BD%BF%E7%94%A8-btrfs-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">7. åˆ†åŒºå’Œæ ¼å¼åŒ–ï¼ˆä½¿ç”¨ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼‰</a> ä½¿ç”¨äº† Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œä¸ºäº†è®© rEFind æ”¯æŒ Btrfs å­å·ï¼Œéœ€è¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰‹åŠ¨ä¸º rEFind å®‰è£…é©±åŠ¨ï¼š</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo <span class="built_in">cp</span> /usr/share/refind/drivers_x64/btrfs_x64.efi /boot/efi/EFI/refind/drivers_x64/btrfs_x64.efi</span><br></pre></td></tr></table></figure>

<p><img src="/resources/b5c18d8d2153486ab2729f300ae40556.png" alt="refind-7"></p>
<ol start="7">
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¤æŸ¥å®‰è£…æƒ…å†µï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -ahl /boot/efi/EFI/refind/drivers_x64/</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-rwxr-xr-x 1 root root 114K Jun 15 23:00 /boot/efi/EFI/refind/drivers_x64/btrfs_x64.efi</span><br></pre></td></tr></table></figure>

<ol start="8">
<li>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨å†…æ ¸æ‰€åœ¨æ–‡ä»¶å¤¹ï¼ˆ<code>/boot</code>ï¼‰åˆ›å»ºåŒ…å«å†…æ ¸å‚æ•°çš„ <code>refind_linux.conf</code> æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkrlconf --force</span><br></pre></td></tr></table></figure>

<p>::: tip â„¹ï¸ æç¤º</p>
<p>å¯¹äºè‡ªåŠ¨æ£€æµ‹åˆ°çš„å†…æ ¸ï¼Œå¯ä»¥åœ¨ <code>/boot/refind_linux.conf</code> ä¸­æ˜¾å¼æŒ‡å®šå†…æ ¸å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¾é  rEFInd è¯†åˆ«æ ¹åˆ†åŒºå’Œå†…æ ¸å‚æ•°çš„èƒ½åŠ›ã€‚æ­¤å¤„ä¾¿æ˜¯ä½¿ç”¨äº†åè€…ã€‚</p>
<p>è‹¥è¦ä¿®æ”¹å†…æ ¸å‚æ•°ï¼Œå¯ä»¥ç”¨ GRUB ä½¿ç”¨æ–°å†…æ ¸å‚æ•°ç™»å½•ç³»ç»Ÿåé‡æ–°ä½¿ç”¨æ­¤æ­¥éª¤å‘½ä»¤é‡æ–°ç”Ÿæˆ <code>/boot/refind_linux.conf</code> æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ <code>/boot/refind_linux.conf</code> æ˜¾å¼æŒ‡å®šå†…æ ¸å‚æ•°ã€‚</p>
<p>:::</p>
<ol start="9">
<li>åŠ è½½å¾®ç çš„å†…æ ¸å‚æ•°ä¸ä¼šè‡ªåŠ¨åˆ›å»ºã€‚ä¸ºäº†åŠ è½½å¾®ç ï¼Œéœ€è¦æ‰‹åŠ¨ç¼–è¾‘ <code>/boot/refind_linux.conf</code>ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /boot/refind_linux.conf</span><br></pre></td></tr></table></figure>

<p>åœ¨å†…æ ¸å‚æ•°ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">initrd=@\boot\intel-ucode.img initrd=@\boot\initramfs-%v.img # Intel</span><br><span class="line">initrd=@\boot\amd-ucode.img initrd=@\boot\initramfs-%v.img # AMD</span><br></pre></td></tr></table></figure>

<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥æ‚¨ä¸æ˜¯æŒ‰ç…§æœ¬æŒ‡å—ç« èŠ‚ <a href="/rookie/basic-install.md">archlinux åŸºç¡€å®‰è£…</a> å®‰è£…çš„ archlinuxï¼Œè¯·ç¡®è®¤æ‚¨çš„å¾®ç ä½ç½®ã€‚</p>
<p>æ­¤å¤–ï¼Œå‚æ•° <code>initrd</code> ä¸­ä½¿ç”¨åæ–œæ ï¼ˆ<code>\</code>ï¼‰è€Œä¸æ˜¯æ–œæ ï¼ˆ<code>/</code>ï¼‰ä½œä¸ºè·¯å¾„åˆ†éš”ç¬¦ã€‚</p>
<p>:::</p>
<ol start="10">
<li>å¤æŸ¥ <code>/boot/refind_linux.conf</code> æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /boot/refind_linux.conf</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Boot with standard options&quot;</span>  <span class="string">&quot;root=UUID=860b9d91-590c-44d0-9d38-e4bf137b5d90 rw rootflags=subvol=@ loglevel=5 nowatchdog resume=UUID=13ec7b86-eb9c-45a9-ae50-9606279b506a initrd=@\boot\intel-ucode.img initrd=@\boot\initramfs-%v.img&quot;</span></span><br><span class="line"><span class="string">&quot;Boot to single-user mode&quot;</span>    <span class="string">&quot;root=UUID=860b9d91-590c-44d0-9d38-e4bf137b5d90 rw rootflags=subvol=@ loglevel=5 nowatchdog resume=UUID=13ec7b86-eb9c-45a9-ae50-9606279b506a initrd=@\boot\intel-ucode.img initrd=@\boot\initramfs-%v.img single&quot;</span></span><br><span class="line"><span class="string">&quot;Boot with minimal options&quot;</span>   <span class="string">&quot;ro root=UUID=860b9d91-590c-44d0-9d38-e4bf137b5d90&quot;</span></span><br></pre></td></tr></table></figure>

<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥éœ€è¦é…ç½®é»˜è®¤å¼•å¯¼å†…æ ¸ï¼Œè¯·å‚é˜…æ­¥éª¤ <a href=":/8670ffd3b97b453b8fd696b75659430f#%F0%9F%90%A7-%E6%9B%B4%E6%8D%A2%E5%8F%AF%E9%80%89%E5%86%85%E6%A0%B8">ğŸ§ æ›´æ¢å¯é€‰å†…æ ¸</a>ã€‚</p>
<p>:::</p>
<ol start="11">
<li>é‡å¯ç”µè„‘ï¼Œä¾¿å¯ä»¥çœ‹åˆ° rEFind çš„å¼•å¯¼é¡µé¢äº†ï¼š</li>
</ol>
<p><img src="/resources/66740d3657194e6fb0f8e67bd4ded1f3.png" alt="refind-8"></p>
<p>è¿™ä¸ªé€‰é¡¹æ˜¯é€šè¿‡ GRUB å¥—å¨ƒå¯åŠ¨ç³»ç»Ÿã€‚</p>
<p><img src="/resources/b0e2ae1f754c4b93841a342edecfa65e.png" alt="refind-9"></p>
<p>è¿™ä¸ªé€‰é¡¹æ˜¯é€šè¿‡ rEFind ç›´æ¥å¼•å¯¼è¿›å…¥ç³»ç»Ÿã€‚</p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>åœ¨å¯¹åº”ç³»ç»Ÿçš„ä½ç½®æŒ‰ä¸‹ <code>F2</code> å¯è¿›å…¥å­èœå•ï¼š</p>
<p>:::</p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>è‹¥å¼•å¯¼äº† win10 ä¹Ÿä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚</p>
<p>:::</p>
<p>::: tip â„¹ï¸ æç¤º</p>
<p>åé¢ä¸¤ä½æ˜¯è™šæ‹Ÿæœºå®‰è£… archlinux åç•™ä¸‹æ¥çš„å®‰è£…é•œåƒï¼ˆå®ä½“æœºæ²¡æœ‰ï¼‰ï¼Œä¸æƒ³è¦å¯ä»¥è¯·ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤ç§»é™¤</p>
<ol>
<li>å…³é—­è™šæ‹Ÿæœºåæ‰“å¼€è™šæ‹Ÿæœºè®¾ç½® &gt; ä¾§æ  <code>å­˜å‚¨</code> &gt; ç‚¹å‡»å³ä¾§ <code>åˆ†é…å…‰é©±</code> çš„å³ä¾§å…‰ç›˜å°å›¾æ ‡ï¼š</li>
</ol>
<p><img src="/resources/3a569ffbe6654d7bb425ed6a55a7e234.png" alt="refind-10"></p>
<ol start="2">
<li>ç‚¹å‡» <code>ç§»é™¤è™šæ‹Ÿç›˜</code>ï¼š</li>
</ol>
<p><img src="/resources/83ae25631afd45f3bcabe68894037212.png" alt="refind-11"></p>
<ol start="3">
<li>å¼€å¯è™šæ‹Ÿæœºï¼ŒæŸ¥çœ‹æ•ˆæœï¼š</li>
</ol>
<p><img src="/resources/6f861b5a61f2491b96c0dc9893193ece.png" alt="refind-12"></p>
<p>:::</p>
<p>å…³äº rEFind çš„ç¾åŒ–è¯·å‚é˜… <a href="">ç³»ç»Ÿç¾åŒ–</a>ã€‚</p>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/02/01/6d0d397c17e941649f086609f526bfd9/" title="system-ctl"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">system-ctl</div></div></a></div><div class="next-post pull-right"><a href="/2023/02/01/b882a6f73bd74e37aa75fead7df2c88c/" title="android"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">android</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E9%85%8D%E7%BD%AE%EF%BC%88%E8%BF%9B%E9%98%B6%E7%AF%87%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">å¯é€‰é…ç½®ï¼ˆè¿›é˜¶ç¯‡ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%91-%E4%B8%80%E5%88%86%E8%80%95%E8%80%98%EF%BC%8C%E4%B8%80%E5%88%86%E6%94%B6%E8%8E%B7"><span class="toc-number">1.0.1.</span> <span class="toc-text">ğŸ‘ ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%96-%E8%BF%99%E4%B8%80%E8%8A%82%E5%B0%86%E4%BC%9A%E8%AE%A8%E8%AE%BA%EF%BC%9A"><span class="toc-number">1.0.2.</span> <span class="toc-text">ğŸ”– è¿™ä¸€èŠ‚å°†ä¼šè®¨è®ºï¼š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%90%A7-%E6%9B%B4%E6%8D%A2%E5%8F%AF%E9%80%89%E5%86%85%E6%A0%B8"><span class="toc-number">1.1.</span> <span class="toc-text">ğŸ§ æ›´æ¢å¯é€‰å†…æ ¸</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%93%91-%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99%EF%BC%9ADKMS"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">ğŸ“‘ ç›¸å…³èµ„æ–™ï¼šDKMS</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%92%A4-%E4%BC%91%E7%9C%A0%EF%BC%88hibernate%EF%BC%89%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.2.</span> <span class="toc-text">ğŸ’¤ ä¼‘çœ ï¼ˆhibernateï¼‰è®¾ç½®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%91%E7%9C%A0%E5%88%B0-Swap-%E5%88%86%E5%8C%BA"><span class="toc-number">1.2.1.</span> <span class="toc-text">ä¼‘çœ åˆ° Swap åˆ†åŒº</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%93%91-%E7%9B%B8%E5%85%B3%E8%B5%84%E6%96%99%EF%BC%9AUUID"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">ğŸ“‘ ç›¸å…³èµ„æ–™ï¼šUUID</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8D%A7-%E7%A2%8E%E7%A2%8E%E5%BF%B5"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">ğŸ§ ç¢ç¢å¿µ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%91%E7%9C%A0%E5%88%B0-Swap-%E6%96%87%E4%BB%B6%EF%BC%88Btrfs%EF%BC%89"><span class="toc-number">1.2.2.</span> <span class="toc-text">ä¼‘çœ åˆ° Swap æ–‡ä»¶ï¼ˆBtrfsï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BC%91%E7%9C%A0%E5%88%B0-Swap-%E6%96%87%E4%BB%B6%EF%BC%88ext4%EF%BC%89"><span class="toc-number">1.2.3.</span> <span class="toc-text">ä¼‘çœ åˆ° Swap æ–‡ä»¶ï¼ˆext4ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B1%E5%90%8C%E5%90%8E%E7%BB%AD%E6%AD%A5%E9%AA%A4"><span class="toc-number">1.2.4.</span> <span class="toc-text">å…±åŒåç»­æ­¥éª¤</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%94%8D-rEFind"><span class="toc-number">1.3.</span> <span class="toc-text">ğŸ” rEFind</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://meowrain.cn">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div></div></body></html>