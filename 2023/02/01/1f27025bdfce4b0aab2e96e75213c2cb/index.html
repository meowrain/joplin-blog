<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>system-ctl | 知识库</title><meta name="author" content="Public"><meta name="copyright" content="Public"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="referrer" content="no-referrer"><meta name="description" content="Linux 日常操作与基础知识 🐱‍🚀 路漫漫其修远兮，吾将上下而求索阅读完 🌱 新手上路章节，你的系统已完全可以使用 KDE 桌面环境提供了强大的 GUI 以供普通用户使用 绝大多数系统设置项可在 KDE 系统设置中找到（就像 Windows 一样！） 但如果想要游刃有余的掌控你的系统，你还需要阅读掌握本小节的内容   🔖 这一节将会讨论::: details 目录 [[toc]] ::">
<meta property="og:type" content="article">
<meta property="og:title" content="system-ctl">
<meta property="og:url" content="http://example.com/2023/02/01/1f27025bdfce4b0aab2e96e75213c2cb/index.html">
<meta property="og:site_name" content="知识库">
<meta property="og:description" content="Linux 日常操作与基础知识 🐱‍🚀 路漫漫其修远兮，吾将上下而求索阅读完 🌱 新手上路章节，你的系统已完全可以使用 KDE 桌面环境提供了强大的 GUI 以供普通用户使用 绝大多数系统设置项可在 KDE 系统设置中找到（就像 Windows 一样！） 但如果想要游刃有余的掌控你的系统，你还需要阅读掌握本小节的内容   🔖 这一节将会讨论::: details 目录 [[toc]] ::">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://meowrain.cn/upload/2022/11/QQ%E5%9B%BE%E7%89%8720221127155827.jpg">
<meta property="article:published_time" content="2023-02-01T04:57:59.103Z">
<meta property="article:modified_time" content="2023-02-01T04:57:59.103Z">
<meta property="article:author" content="Public">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://meowrain.cn/upload/2022/11/QQ%E5%9B%BE%E7%89%8720221127155827.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2023/02/01/1f27025bdfce4b0aab2e96e75213c2cb/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.json","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'system-ctl',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-02-01 12:57:59'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><script>if (location.pathname.endsWith('/')) {location += 'index.html';}</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://meowrain.cn/upload/2022/11/QQ%E5%9B%BE%E7%89%8720221127155827.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">495</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">47</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="知识库"><span class="site-name">知识库</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">system-ctl</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-02-01T04:57:59.103Z" title="发表于 2023-02-01 12:57:59">2023-02-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-02-01T04:57:59.103Z" title="更新于 2023-02-01 12:57:59">2023-02-01</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/">Linux</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/Arch-Linux/">Arch-Linux</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux/Arch-Linux/rookie/">rookie</a></span></div><div class="meta-secondline"></div></div></div><article class="post-content" id="article-container"><h1 id="Linux-日常操作与基础知识"><a href="#Linux-日常操作与基础知识" class="headerlink" title="Linux 日常操作与基础知识"></a>Linux 日常操作与基础知识</h1><blockquote>
<h3 id="🐱‍🚀-路漫漫其修远兮，吾将上下而求索"><a href="#🐱‍🚀-路漫漫其修远兮，吾将上下而求索" class="headerlink" title="🐱‍🚀 路漫漫其修远兮，吾将上下而求索"></a>🐱‍🚀 路漫漫其修远兮，吾将上下而求索</h3><p>阅读完 🌱 新手上路章节，你的系统已完全可以使用</p>
<p>KDE 桌面环境提供了强大的 <a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2">GUI</a> 以供普通用户使用</p>
<p>绝大多数系统设置项可在 KDE 系统设置中找到（就像 Windows 一样！）</p>
<p>但如果想要游刃有余的掌控你的系统，你还需要阅读掌握本小节的内容</p>
</blockquote>
<blockquote>
<h3 id="🔖-这一节将会讨论"><a href="#🔖-这一节将会讨论" class="headerlink" title="🔖 这一节将会讨论"></a>🔖 这一节将会讨论</h3><p>::: details 目录</p>
<p>[[toc]]</p>
<p>:::</p>
</blockquote>
<p>::: tip ℹ️ 提示</p>
<p>如果你想进一步详细了解本文各部分的详细知识，可以点击在各个小节给出的相关链接进行学习。</p>
<p>如果你不想详细了解，本章介绍的知识也足够你来应付日常的使用。</p>
<p>:::</p>
<h2 id="必须掌握的-Linux-知识"><a href="#必须掌握的-Linux-知识" class="headerlink" title="必须掌握的 Linux 知识"></a>必须掌握的 Linux 知识</h2><p>此处只介绍最基本的，最必要的 Linux 知识点与小技巧。</p>
<ol>
<li><p>在 Linux 中，文件目录结构与 Windows 完全不同。Windows 存在 C 盘、D 盘等盘符，而在 Linux 中不存在这些划分。最上层的目录是根目录，路径为 <code>/</code> ，并以一个树形结构从此向下一级一级区分</p>
</li>
<li><p>对于 Linux 的树形文件结构，存在相对路径与绝对路径之分：</p>
<ul>
<li><p>绝对路径代表从根目录 <code>/</code> 开始的完整路径：</p>
<ul>
<li>比如 <code>/home/myusername/Download</code></li>
</ul>
</li>
<li><p>相对路径代表从当前目录或当前目录的上级目录，到目标目录的一个部分路径：</p>
<ul>
<li><p><code>.</code> 代表当前目录</p>
</li>
<li><p><code>..</code> 代表当前目录的上级目录</p>
</li>
<li><p>比如当前你所在的目录为 <code>/home/myusername</code> ，那么绝对路径下的 <code>/home/myusername/Download</code> 文件夹的相对路径即为 <code>./Download</code></p>
</li>
<li><p>比如你当前所在的路径为 <code>/home/myusername/Download</code> ，向上寻找到 <code>/home/myusername/Desktop</code> 的相对路径即为 <code>../Desktop</code></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>简单来说，Linux 中存在两类用户：</p>
<ul>
<li><p>第一类用户即为 root 用户，也称为超级用户，它拥有系统中最高的权限</p>
</li>
<li><p>第二类用户就是除了 root 用户之外的普通用户，它们可以拥有不同等级的权限</p>
<p>使用 root 权限时需要十分小心</p>
</li>
</ul>
</li>
<li><p>理论上来说，任何图形化界面中的操作都可以用对应的命令行命令完成。如果你打开某个程序报错，不妨试试找到它的对应启动命令，在终端中执行此命令，并观察它运行时的错误日志输出，查阅相关资料，解决问题</p>
</li>
</ol>
<h2 id="终端操作基础"><a href="#终端操作基础" class="headerlink" title="终端操作基础"></a>终端操作基础</h2><p>如果想要熟练掌握 Linux，就必须掌握终端的常见命令与使用方式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> /some_path <span class="comment"># 查看某个文件夹下的文件与子文件夹。/ 代表根目录，是 Linux 最顶端的路径，以此开头则为绝对路径</span></span><br><span class="line"><span class="built_in">pwd</span> <span class="comment"># 查看当前终端所在路径</span></span><br><span class="line"><span class="built_in">cd</span> /home/testuser <span class="comment"># 切换目录命令。将当前终端切换到某一个路径下</span></span><br><span class="line"><span class="built_in">cp</span> ./a.py ./b.py <span class="comment"># 复制命令。将当前路径下的 a.py 复制一份并命名为 b.py。./ 代表当前文件夹所在路径，以此开头则为相对路径</span></span><br><span class="line"><span class="built_in">cp</span> -r ./a ./b <span class="comment"># 复制整体文件夹</span></span><br><span class="line"><span class="built_in">rm</span> b.py <span class="comment"># 删除命令。删除 b.py</span></span><br><span class="line"><span class="built_in">mv</span> a.py b.py <span class="comment"># 移动（重命名）命令。将 a.py 更名为 b.py</span></span><br><span class="line"><span class="built_in">mkdir</span> my_folder <span class="comment"># 新建名为 my_folder 的文件夹</span></span><br><span class="line">sudo some_command <span class="comment"># 使普通用户以 root 权限执行某些命令</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>🔗 相关链接：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://archlinuxstudio.github.io/ShellTutorial/#/">Linux 命令行与 Shell 脚本教程</a></li>
</ul>
</blockquote>
<h2 id="Pacman-包管理"><a href="#Pacman-包管理" class="headerlink" title="Pacman 包管理"></a>Pacman 包管理</h2><p>在 archlinux 上安装的软件都通过 Pacman 来进行管理。</p>
<p>为了使用 Pacman 额外的命令需要先安装 <a target="_blank" rel="noopener" href="https://archlinux.org/packages/community/x86_64/pacman-contrib/"> <code>pacman-contrib</code> </a><sup>community &#x2F; aur</sup>。</p>
<p>安装 <code>pacman-contrib</code> ：</p>
<p>:::: code-group<br>::: code-group-item community</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S pacman-contrib</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item aur (git)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S pacman-contrib-git</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<p>可以把 Pacman 理解为一个软件管理器（软件管家？），可以进行软件的安装、删除、查询等：</p>
<figure class="highlight bash"><figcaption><span>&#123;1-4, 6-8, 10&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S package_name <span class="comment"># 安装软件包</span></span><br><span class="line">pacman -Ss <span class="comment"># 在同步数据库中搜索包，包括包的名称和描述</span></span><br><span class="line">sudo pacman -Syyu <span class="comment"># 升级系统。-yy：标记强制刷新、-u：标记升级动作</span></span><br><span class="line">sudo pacman -Rns package_name <span class="comment"># 删除软件包，及其所有没有被其他已安装软件包使用的依赖包</span></span><br><span class="line">sudo pacman -R package_name <span class="comment"># 删除软件包，保留其全部已经安装的依赖关系</span></span><br><span class="line">pacman -Qi package_name <span class="comment"># 检查已安装包的相关信息。-Q：查询本地软件包数据库</span></span><br><span class="line">pacman -Qdt <span class="comment"># 找出孤立包。-d：标记依赖包、-t：标记不需要的包、-dt：合并标记孤立包</span></span><br><span class="line">sudo pacman -Rns $(pacman -Qtdq) <span class="comment"># 删除孤立包</span></span><br><span class="line">sudo pacman -Fy <span class="comment"># 更新命令查询文件列表数据库</span></span><br><span class="line">pacman -F some_command <span class="comment"># 当不知道某个命令属于哪个包时，用来在远程软件包中查询某个命令属于哪个包（即使没有安装）</span></span><br><span class="line">pactree package_name <span class="comment"># 查看一个包的依赖树</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>🔗 相关链接：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Pacman_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archWiki 相关内容</a></li>
</ul>
<p>关于 Pacman 常见错误的排除请参阅 <a href="./debug.md">常见问题</a>。</p>
</blockquote>
<p>::: danger ☢️ 警告</p>
<p>部分 Pacman 命令具有危险性，请谨慎执行。</p>
<p>:::</p>
<p>::: tip ℹ️ 提示</p>
<p>yay 的用法和 Pacman 是基本一样的。有额外几条常用命令：</p>
<figure class="highlight bash"><figcaption><span>&#123;1-3&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yay <span class="comment"># 等同于 yay -Syu</span></span><br><span class="line">yay package_name <span class="comment"># 等同于 yay -Ss package_name &amp;&amp; yay -S package_name</span></span><br><span class="line">yay -Ps <span class="comment"># 打印系统统计信息</span></span><br><span class="line">yay -Yc <span class="comment"># 清理不需要的依赖</span></span><br></pre></td></tr></table></figure>

<p>:::</p>
<h3 id="Octopi"><a href="#Octopi" class="headerlink" title="Octopi"></a>Octopi</h3><p>此外，还可以使用图形化的包管理软件（Pacman &#x2F; yay 的图形前端）<a target="_blank" rel="noopener" href="https://github.com/aarnt/octopi">Octopi</a><sup>aur</sup>。</p>
<ol>
<li>安装 Octopi：</li>
</ol>
<p>:::: code-group<br>::: code-group-item aur</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S octopi</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item aur (git)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S octopi-git</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<ol start="2">
<li>打开 Octopi 即可看到图形化的 Pacman &#x2F; yay 界面：</li>
</ol>
<p><img src="/../static/advanced/system-ctl/octopi.png" alt="octopi"></p>
<blockquote>
<p>🔗 相关链接：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Pacman">archWiki 相关内容</a></li>
</ul>
</blockquote>
<h3 id="downgrade"><a href="#downgrade" class="headerlink" title="downgrade"></a>downgrade</h3><p>由于 archlinux 的更新策略很激进, 导致某些软件过新, 而一些依赖并没有支持, 比如著名的<a target="_blank" rel="noopener" href="https://bugs.archlinux.org/task/74900">virtualbox 在 linux5.18 内核下的崩溃</a> , 所以有时候我们不得不安装过时的软件或者降级已安装的软件。</p>
<p>在 archlinux 上安装旧版软件都通过 downgrade 来进行管理。</p>
<p>为了使用 downgrade 额外的命令需要先安装 <a target="_blank" rel="noopener" href="https://aur.archlinux.org/packages/downgrade"> <code>downgrade</code> </a><sup>aur</sup>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S downgrade</span><br></pre></td></tr></table></figure>

<p>这时我们就可以用 downgrade 降级软件了</p>
<p><img src="/../static/advanced/system-ctl/downgrade.jpg" alt="downgrade"></p>
<h2 id="终端编辑器-vim-的使用"><a href="#终端编辑器-vim-的使用" class="headerlink" title="终端编辑器 vim 的使用"></a>终端编辑器 vim 的使用</h2><p>我们需要掌握一个能在终端中进行文本编辑的软件，这里介绍 vim。</p>
<ol>
<li>创建并编辑名为 <code>hello.txt</code> 的文件：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim hello.txt</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>此时可以看到进入了一个空的界面：</li>
</ol>
<p><img src="/../static/advanced/system-ctl/vim.png" alt="vim"></p>
<ul>
<li>此时处在 vim 的 <code>命令模式</code> 。在 <code>命令模式</code> 下，可以用一些快捷指令来对文本进行操作</li>
<li>输入 <code>a</code> 进入 vim 的 <code>编辑模式</code> ，此时即可输入任意文本进行编辑</li>
<li>在输入完成后按下 Esc 键，即可从 <code>编辑模式</code> 退出到 <code>命令模式</code> 。此时输入 <code>:wq</code> 即可保存并退出 vim</li>
</ul>
<p>下面介绍一些在命令模式下常用的命令：</p>
<ul>
<li><code>:wq</code> —— 保存退出</li>
<li><code>:q!</code> —— 不保存，强制退出</li>
<li><code>dd</code> —— 删除一行</li>
<li><code>2dd</code> —— 删除两行</li>
<li><code>gg</code> —— 回到文本第一行</li>
<li><code>shift</code> + <code>g</code> —— 转到文本最后一行</li>
<li><code>/xxx</code> —— 在文中搜索 xxx 内容。回车 <code>Enter</code> 搜索，按 <code>n</code> 键转到下一个</li>
<li><code>?xxx</code> —— 反向搜索</li>
</ul>
<p>::: tip ℹ️ 提示</p>
<p>可以在终端中输入以下命令来学习完整的 vim 教程：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vimtutor</span><br></pre></td></tr></table></figure>

<p><img src="/../static/advanced/system-ctl/vimtutor.png" alt="vimtutor"></p>
<p>:::</p>
<h2 id="系统服务的介绍与操作"><a href="#系统服务的介绍与操作" class="headerlink" title="系统服务的介绍与操作"></a>系统服务的介绍与操作</h2><p>Linux 系统中运行着各种服务，你需要掌握查询，变更服务状态的方式。同时对创建服务最好也有大致的了解。</p>
<p>这里讲述命令 <code>systemctl</code> 的用法。以 <code>dhcpcd</code> 服务为例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpcd <span class="comment"># 启动服务</span></span><br><span class="line">systemctl stop dhcpcd <span class="comment"># 停止服务</span></span><br><span class="line">systemctl restart dhcpcd <span class="comment"># 重启服务</span></span><br><span class="line">systemctl reload dhcpcd <span class="comment"># 重新加载服务以及它的配置文件</span></span><br><span class="line">systemctl status dhcpcd <span class="comment"># 查看服务状态</span></span><br><span class="line">systemctl <span class="built_in">enable</span> dhcpcd <span class="comment"># 设置开机启动服务</span></span><br><span class="line">systemctl <span class="built_in">enable</span> --now dhcpcd <span class="comment"># 设置服务为开机启动并立即启动这个单元</span></span><br><span class="line">systemctl <span class="built_in">disable</span> dhcpcd <span class="comment"># 取消开机自动启动</span></span><br><span class="line">systemctl daemon-reload dhcpcd <span class="comment"># 重新载入 systemd 配置。扫描新增或变更的服务单元、不会重新加载变更的配置</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>🔗 相关链接：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Systemd#Basic_systemctl_usage">archWiki 相关内容</a></li>
<li><a target="_blank" rel="noopener" href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#Examples">systemd 配置文件样例解释</a></li>
</ul>
<p>关于关闭出错服务（出错启动项）请参阅 <a href="./debug.md">常见问题</a>。</p>
</blockquote>
<h2 id="文件解压缩"><a href="#文件解压缩" class="headerlink" title="文件解压缩"></a>文件解压缩</h2><p>除了众所周知的 <code>tar</code> 命令，我们在之前安装过的 <code>ark</code> 包可以配合 Dolphin 文件管理器轻松的右键压缩包直接解压。其可选依赖提供了各个压缩格式的支持，可以自行选择安装。</p>
<p>但是使用此方法解压 Windows 下的压缩包可能会乱码。使用 <a target="_blank" rel="noopener" href="https://archlinux.org/packages/community/x86_64/unarchiver/">Unarchiver</a> 可以避免这个问题。</p>
<ol>
<li>安装 Unarchiver：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S unarchiver</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>解压压缩包：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unar xxx.zip</span><br></pre></td></tr></table></figure>

<h2 id="磁盘空间信息"><a href="#磁盘空间信息" class="headerlink" title="磁盘空间信息"></a>磁盘空间信息</h2><h3 id="df-命令"><a href="#df-命令" class="headerlink" title="df 命令"></a>df 命令</h3><p>使用 <code>df</code> 命令即可显示目前在 Linux 系统上的文件系统对应的磁盘空间使用情况统计：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h <span class="comment"># 以人类可读格式显示</span></span><br></pre></td></tr></table></figure>

<h3 id="Filelight"><a href="#Filelight" class="headerlink" title="Filelight"></a>Filelight</h3><p>使用 <a target="_blank" rel="noopener" href="https://github.com/KDE/filelight">Filelight</a><sup>extra &#x2F; aur</sup> 即可在图形化界面直观查看磁盘占用情况。</p>
<ol>
<li>安装 Filelight：</li>
</ol>
<p>:::: code-group<br>::: code-group-item extra</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S filelight</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item aur (git)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S filelight-git</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<ol start="2">
<li>打开 Filelight 即可直观的看到空间占用情况：</li>
</ol>
<p><img src="/../static/advanced/system-ctl/filelight.png" alt="filelight"></p>
<p>::: tip ℹ️ 提示</p>
<p>点击相应区块即可进一步深入分析。</p>
<p>:::</p>
<h2 id="磁盘空间清理"><a href="#磁盘空间清理" class="headerlink" title="磁盘空间清理"></a>磁盘空间清理</h2><p>有时需要对磁盘空间进行清理，以免磁盘空间不足，从而保证系统的正常运行。</p>
<p>首先应通过上文介绍的内容 <a href="/system-ctl.md#%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E4%BF%A1%E6%81%AF">磁盘空间信息</a> 对磁盘空间占用情况进行分析，随后采取对应的有效应对措施。</p>
<p>下面介绍一些通用措施。</p>
<h3 id="清理软件包缓存及孤立包"><a href="#清理软件包缓存及孤立包" class="headerlink" title="清理软件包缓存及孤立包"></a>清理软件包缓存及孤立包</h3><p>执行以下命令清理软件包文件缓存及删除孤立软件包：</p>
<figure class="highlight bash"><figcaption><span>&#123;1-2, 4&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Rns $(pacman -Qtdq) <span class="comment"># 如上文所述，删除孤立软件包（常用）</span></span><br><span class="line">sudo pacman -Sc <span class="comment"># 删除当前未安装的所有缓存包和未使用的同步数据库（可选）</span></span><br><span class="line">sudo pacman -Scc <span class="comment"># 从缓存中删除所有文件，这是最激进的方法，不会在缓存文件夹中留下任何内容（一般不使用）</span></span><br><span class="line">paccache -r <span class="comment"># 删除已安装和未安装包的所有缓存版本，但最近 3 个版本除外</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>还可以在 <code>/etc/pacman.d/hooks</code> 文件夹下创建 <code>clean_package_cache.hook</code> 文件来在使用 <code>pacman</code> 时自动执行 <code>paccache</code>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[Trigger]</span><br><span class="line">Operation = Upgrade</span><br><span class="line">Operation = Install</span><br><span class="line">Operation = Remove</span><br><span class="line">Type = Package</span><br><span class="line">Target = *</span><br><span class="line"></span><br><span class="line">[Action]</span><br><span class="line">Description = Cleaning pacman cache...</span><br><span class="line">When = PostTransaction</span><br><span class="line">Exec = /usr/bin/paccache -rk 2</span><br></pre></td></tr></table></figure>

<h3 id="清理-yay-缓存"><a href="#清理-yay-缓存" class="headerlink" title="清理 yay 缓存"></a>清理 yay 缓存</h3><p>如果使用了 yay 来安装 AUR 中的软件包的话，可以选择清理 yay 的缓存目录：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf ~/.cache/yay</span><br></pre></td></tr></table></figure>

<h3 id="考虑快照大小"><a href="#考虑快照大小" class="headerlink" title="考虑快照大小"></a>考虑快照大小</h3><p>若在步骤 <a href="../rookie/desktop-env-and-app.md#_13-%E8%AE%BE%E7%BD%AE-timeshift-%E5%BF%AB%E7%85%A7">13. 设置 Timeshift 快照</a> 中没有使用 BTRFS 方式的 Timeshift 快照，而是使用了 RSYNC 方式的 Timeshift 快照，还应考虑 Timeshift 快照占用情况。</p>
<p>一般来说 RSYNC 方式的快照大小略大于当前实际使用大小。因为虽然 RSYNC 方式的快照是增量的，但<strong>历史最久远的快照依然是完整备份</strong>，随后才是增量的。而简单来说增量大小取决于历史最久远的快照和最新快照之间的差异。</p>
<p>通过 Timeshift 自动清理历史最久远的快照是简单有效的方法，但仍然需要注意不要保存太多快照。</p>
<h2 id="硬件信息检测"><a href="#硬件信息检测" class="headerlink" title="硬件信息检测"></a>硬件信息检测</h2><h3 id="磁盘信息"><a href="#磁盘信息" class="headerlink" title="磁盘信息"></a>磁盘信息</h3><h4 id="Smartmontools"><a href="#Smartmontools" class="headerlink" title="Smartmontools"></a>Smartmontools</h4><p><a target="_blank" rel="noopener" href="https://archlinux.org/packages/extra/x86_64/smartmontools/">Smartmontools</a> 通过使用自我监控（Self-Monitoring）、分析（Analysis）和报告（Reporting）三种技术（缩写为 S. M. A. R. T 或 SMART）来管理和监控存储硬件。</p>
<ol>
<li>安装 Smartmontools：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S smartmontools</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>查看磁盘信息：</li>
</ol>
<p>:::: code-group<br>::: code-group-item SATA</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo smartctl -A /dev/sdx <span class="comment"># 硬盘</span></span><br><span class="line">sudo smartctl -d sat -A /dev/sdx <span class="comment"># USB 设备</span></span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item NVME</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo smartctl -A /dev/nvmexn1 <span class="comment"># 硬盘</span></span><br><span class="line">sudo smartctl -d sat -A /dev/sdx <span class="comment"># USB 设备</span></span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<h3 id="CPU-信息"><a href="#CPU-信息" class="headerlink" title="CPU 信息"></a>CPU 信息</h3><p>类似 Windows 下的 <a target="_blank" rel="noopener" href="https://www.cpuid.com/softwares/cpu-z.html">CPU-Z</a><sup>EULA</sup>，Linux 下有 <a target="_blank" rel="noopener" href="https://x0rg.github.io/CPU-X/">CPU-X</a><sup>cn &#x2F; aur</sup>。</p>
<ol>
<li>安装 CPU-X：<br>:::: code-group<br>::: code-group-item cn</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S cpu-x</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item aur</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S aur/cpu-x</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item aur (git)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S cpu-x-git</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<ol start="2">
<li>打开 CPU-X 即可看到 CPU 详细信息：</li>
</ol>
<p><img src="/../static/advanced/system-ctl/cpu-x.png" alt="cpu-x"></p>
<h3 id="GPU-信息"><a href="#GPU-信息" class="headerlink" title="GPU 信息"></a>GPU 信息</h3><p>使用 <a target="_blank" rel="noopener" href="https://github.com/arunsivaramanneo/GPU-Viewer">GPU-Viewer</a><sup>aur</sup> 即可。</p>
<ol>
<li>安装 GPU-Viewer：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S gpu-viewer</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>打开 GPU-Viewer 即可看到 GPU 详细信息：</li>
</ol>
<p><img src="/../static/advanced/system-ctl/gpu-viewer.png" alt="gpu-viewer"></p>
<h3 id="硬件完整信息"><a href="#硬件完整信息" class="headerlink" title="硬件完整信息"></a>硬件完整信息</h3><p>使用 <a target="_blank" rel="noopener" href="http://www.nongnu.org/dmidecode/">Dmidecode</a><sup>extra &#x2F; aur</sup> 可以完整查看系统绝大部分硬件信息，包括较难得到的内存频率等。</p>
<ol>
<li>安装 Dmidecode：</li>
</ol>
<p>:::: code-group<br>::: code-group-item extra</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S dmidecode</span><br></pre></td></tr></table></figure>

<p>:::<br>::: code-group-item aur (git)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S dmidecode-git</span><br></pre></td></tr></table></figure>

<p>:::<br>::::</p>
<ol start="2">
<li>输入以下命令使用 Dmidecode 查看系统硬件信息：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dmidecode</span><br></pre></td></tr></table></figure>

<h2 id="系统快照（备份）与文件传输"><a href="#系统快照（备份）与文件传输" class="headerlink" title="系统快照（备份）与文件传输"></a>系统快照（备份）与文件传输</h2><h3 id="从-Timeshift-快照中恢复"><a href="#从-Timeshift-快照中恢复" class="headerlink" title="从 Timeshift 快照中恢复"></a>从 Timeshift 快照中恢复</h3><p>::: tip ℹ️ 提示</p>
<p>Timeshift 还能恢复到其它硬盘用作系统迁移，通过 arch 安装盘重新安装引导即可，这里不再赘述。</p>
<p>:::</p>
<h4 id="若能够进入桌面环境-😎"><a href="#若能够进入桌面环境-😎" class="headerlink" title="若能够进入桌面环境 😎"></a>若能够进入桌面环境 😎</h4><p>直接打开 Timeshift，选择快照后根据提示还原即可。</p>
<h4 id="若无法进入桌面环境-😥"><a href="#若无法进入桌面环境-😥" class="headerlink" title="若无法进入桌面环境 😥"></a>若无法进入桌面环境 😥</h4><ol>
<li><p>通过 <code>Ctrl</code> + <code>Alt</code> + <code>F2 ~ F6</code> 进入 tty 终端</p>
</li>
<li><p>使用快照还原系统：</p>
</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo timeshift --list <span class="comment"># 获取快照列表</span></span><br><span class="line">sudo timeshift --restore --snapshot <span class="string">&#x27;20XX-XX-XX_XX-XX-XX&#x27;</span> --skip-grub <span class="comment"># 选择一个快照进行还原，并跳过 GRUB 安装，一般来说 GRUB 不需要重新安装</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>根据提示继续，完成还原</li>
</ol>
<h4 id="若无法进入系统-😱"><a href="#若无法进入系统-😱" class="headerlink" title="若无法进入系统 😱"></a>若无法进入系统 😱</h4><p>此时系统一般已经完全奔溃，可以通过 Live CD 进行还原。（若使用 arch 安装盘请连接网络和配置好源后安装 Timeshift，然后通过命令行方式还原）</p>
<ol>
<li>进入 Live 系统后打开 Timeshift，点击设置按钮，设置为原来快照的存储位置。</li>
<li>选择快照后根据提示还原即可。</li>
</ol>
<p>或者通过命令行进行还原，但需要首先设置原来快照存储的位置：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo timeshift --restore --snapshot-device /dev/sdbx</span><br></pre></td></tr></table></figure>

<p>后续步骤同 <a href="#%E8%8B%A5%E6%97%A0%E6%B3%95%E8%BF%9B%E5%85%A5%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83">若无法进入桌面环境</a>。</p>
<h4 id="恢复后无法挂载目录"><a href="#恢复后无法挂载目录" class="headerlink" title="恢复后无法挂载目录"></a>恢复后无法挂载目录</h4><p>Timeshift 恢复 Btrfs 快照时，可能出现由于子卷 ID 变更导致无法挂载目录而无法进入系统。</p>
<p>此时可以通过手动修改 fstab 配置，移除 <code>subvolid</code> 参数，改为通过名称指定子卷。</p>
<p>使用 <code>vim</code> 编辑器修改 <code>/etc/fstab</code> 文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/fstab</span><br></pre></td></tr></table></figure>

<p>进行如下修改：</p>
<ul>
<li>删除 <code>/</code> 和 <code>/home</code> 条目中最后的 <code>subvolid=xxx</code> 参数</li>
</ul>
<p>保存后重启即可正常使用。以后恢复快照时无需再次进行此操作。</p>
<p>也可以手动更正 <code>subvolid</code> ，通过以下命令查看正确的 ID：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo btrfs sub list -u /</span><br></pre></td></tr></table></figure>

<h4 id="定时任务不生效"><a href="#定时任务不生效" class="headerlink" title="定时任务不生效"></a>定时任务不生效</h4><p>Timeshift 设定任务后定时不生效那是因为相关的服务 <code>cron</code> 没有启动导致的问题。<br>在终端命令行下输入以下命令第一行为设置开机启动 第二行为启动相关服务</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl <span class="built_in">enable</span> --now cronie.service</span><br><span class="line">sudo systemctl start --now cronie.service</span><br></pre></td></tr></table></figure>

<h3 id="rsync-命令"><a href="#rsync-命令" class="headerlink" title="rsync 命令"></a>rsync 命令</h3><p>有一点 Linux 经验的同学应该知道 <code>scp</code> 这个命令。它常被用来在服务器间传输文件。</p>
<p>但是目前它应该被更现代的工具 <a target="_blank" rel="noopener" href="https://rsync.samba.org/">rsync</a> 替代。其拥有即时压缩、差量传输等新特性。同时， <code>rsync</code> 也被用来进行备份操作（Timeshift 的 RSYNC 模式即基于此实现）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rsync foo.txt me@server:/home/me/ <span class="comment"># 最基础的复制文件。与 scp 的操作完全相同</span></span><br><span class="line">rsync -a bar/ me@server:/home/me/ <span class="comment"># -a：标记实现目录复制等。比 scp -r 能更好的处理符号链接等情况</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>🔗 相关链接：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Rsync#Full_system_backup">archWiki 相关内容</a></li>
</ul>
</blockquote>
</article><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/02/01/1b3fc7c143264e028487aeddba20f947/" title="optional-cfg-2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">optional-cfg-2</div></div></a></div><div class="next-post pull-right"><a href="/2023/02/01/21acda1c7bce4aafb38eeb686b7d06e4/" title="power-ctl"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">power-ctl</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Linux-%E6%97%A5%E5%B8%B8%E6%93%8D%E4%BD%9C%E4%B8%8E%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">Linux 日常操作与基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%90%B1%E2%80%8D%F0%9F%9A%80-%E8%B7%AF%E6%BC%AB%E6%BC%AB%E5%85%B6%E4%BF%AE%E8%BF%9C%E5%85%AE%EF%BC%8C%E5%90%BE%E5%B0%86%E4%B8%8A%E4%B8%8B%E8%80%8C%E6%B1%82%E7%B4%A2"><span class="toc-number">1.0.1.</span> <span class="toc-text">🐱‍🚀 路漫漫其修远兮，吾将上下而求索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%96-%E8%BF%99%E4%B8%80%E8%8A%82%E5%B0%86%E4%BC%9A%E8%AE%A8%E8%AE%BA"><span class="toc-number">1.0.2.</span> <span class="toc-text">🔖 这一节将会讨论</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%85%E9%A1%BB%E6%8E%8C%E6%8F%A1%E7%9A%84-Linux-%E7%9F%A5%E8%AF%86"><span class="toc-number">1.1.</span> <span class="toc-text">必须掌握的 Linux 知识</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E6%93%8D%E4%BD%9C%E5%9F%BA%E7%A1%80"><span class="toc-number">1.2.</span> <span class="toc-text">终端操作基础</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pacman-%E5%8C%85%E7%AE%A1%E7%90%86"><span class="toc-number">1.3.</span> <span class="toc-text">Pacman 包管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Octopi"><span class="toc-number">1.3.1.</span> <span class="toc-text">Octopi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#downgrade"><span class="toc-number">1.3.2.</span> <span class="toc-text">downgrade</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E7%BC%96%E8%BE%91%E5%99%A8-vim-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.</span> <span class="toc-text">终端编辑器 vim 的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E7%9A%84%E4%BB%8B%E7%BB%8D%E4%B8%8E%E6%93%8D%E4%BD%9C"><span class="toc-number">1.5.</span> <span class="toc-text">系统服务的介绍与操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%A7%A3%E5%8E%8B%E7%BC%A9"><span class="toc-number">1.6.</span> <span class="toc-text">文件解压缩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E4%BF%A1%E6%81%AF"><span class="toc-number">1.7.</span> <span class="toc-text">磁盘空间信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#df-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.1.</span> <span class="toc-text">df 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Filelight"><span class="toc-number">1.7.2.</span> <span class="toc-text">Filelight</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E6%B8%85%E7%90%86"><span class="toc-number">1.8.</span> <span class="toc-text">磁盘空间清理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%BC%93%E5%AD%98%E5%8F%8A%E5%AD%A4%E7%AB%8B%E5%8C%85"><span class="toc-number">1.8.1.</span> <span class="toc-text">清理软件包缓存及孤立包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B8%85%E7%90%86-yay-%E7%BC%93%E5%AD%98"><span class="toc-number">1.8.2.</span> <span class="toc-text">清理 yay 缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%80%83%E8%99%91%E5%BF%AB%E7%85%A7%E5%A4%A7%E5%B0%8F"><span class="toc-number">1.8.3.</span> <span class="toc-text">考虑快照大小</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E4%BF%A1%E6%81%AF%E6%A3%80%E6%B5%8B"><span class="toc-number">1.9.</span> <span class="toc-text">硬件信息检测</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E4%BF%A1%E6%81%AF"><span class="toc-number">1.9.1.</span> <span class="toc-text">磁盘信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Smartmontools"><span class="toc-number">1.9.1.1.</span> <span class="toc-text">Smartmontools</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CPU-%E4%BF%A1%E6%81%AF"><span class="toc-number">1.9.2.</span> <span class="toc-text">CPU 信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GPU-%E4%BF%A1%E6%81%AF"><span class="toc-number">1.9.3.</span> <span class="toc-text">GPU 信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AC%E4%BB%B6%E5%AE%8C%E6%95%B4%E4%BF%A1%E6%81%AF"><span class="toc-number">1.9.4.</span> <span class="toc-text">硬件完整信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%BF%AB%E7%85%A7%EF%BC%88%E5%A4%87%E4%BB%BD%EF%BC%89%E4%B8%8E%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93"><span class="toc-number">1.10.</span> <span class="toc-text">系统快照（备份）与文件传输</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8E-Timeshift-%E5%BF%AB%E7%85%A7%E4%B8%AD%E6%81%A2%E5%A4%8D"><span class="toc-number">1.10.1.</span> <span class="toc-text">从 Timeshift 快照中恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8B%A5%E8%83%BD%E5%A4%9F%E8%BF%9B%E5%85%A5%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83-%F0%9F%98%8E"><span class="toc-number">1.10.1.1.</span> <span class="toc-text">若能够进入桌面环境 😎</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8B%A5%E6%97%A0%E6%B3%95%E8%BF%9B%E5%85%A5%E6%A1%8C%E9%9D%A2%E7%8E%AF%E5%A2%83-%F0%9F%98%A5"><span class="toc-number">1.10.1.2.</span> <span class="toc-text">若无法进入桌面环境 😥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8B%A5%E6%97%A0%E6%B3%95%E8%BF%9B%E5%85%A5%E7%B3%BB%E7%BB%9F-%F0%9F%98%B1"><span class="toc-number">1.10.1.3.</span> <span class="toc-text">若无法进入系统 😱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%81%A2%E5%A4%8D%E5%90%8E%E6%97%A0%E6%B3%95%E6%8C%82%E8%BD%BD%E7%9B%AE%E5%BD%95"><span class="toc-number">1.10.1.4.</span> <span class="toc-text">恢复后无法挂载目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%E4%B8%8D%E7%94%9F%E6%95%88"><span class="toc-number">1.10.1.5.</span> <span class="toc-text">定时任务不生效</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rsync-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.10.2.</span> <span class="toc-text">rsync 命令</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://meowrain.cn">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div></div></body></html>